{"ast":null,"code":"import _slicedToArray from \"D:\\\\shrouk 25-10-2022\\\\Shrouk\\\\WEB\\\\REACT\\\\food-order-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"D:\\\\shrouk 25-10-2022\\\\Shrouk\\\\WEB\\\\REACT\\\\food-order-app\\\\src\\\\components\\\\Cart\\\\Cart.js\";\nimport React, { useState } from 'react';\nimport { useContext } from 'react';\nimport Modal from '../UI/Modal';\nimport CartItem from './CartItem';\nimport classes from './Cart.module.css';\nimport CartContext from '../../store/cart-context';\nimport Checkout from './Checkout';\nvar Cart = function Cart(props) {\n  var cartCtx = useContext(CartContext);\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isCheckout = _useState2[0],\n    setIsCheckout = _useState2[1];\n  var totalAmount = \"$\".concat(cartCtx.totalAmount.toFixed(2));\n  var hasItems = cartCtx.items.length > 0;\n  var cartItemRemoveHandler = function cartItemRemoveHandler(id) {\n    cartCtx.removeItem(id);\n  };\n  var cartItemAddHandler = function cartItemAddHandler(item) {\n    cartCtx.addItem(item);\n  };\n  var orderHandler = function orderHandler() {\n    setIsCheckout(true);\n  };\n  var onSubmitHandler = function onSubmitHandler(userData) {\n    fetch('https://food-app-order-d9a5b-default-rtdb.firebaseio.com/orders.json', {\n      method: 'POST',\n      body: JSON.stringify({\n        user: userData,\n        orderItem: cartCtx.items\n      })\n    });\n  };\n  var cartItems = /*#__PURE__*/React.createElement(\"ul\", {\n    className: classes['cart-items'],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, cartCtx.items.map(function (item) {\n    return /*#__PURE__*/React.createElement(CartItem, {\n      key: item.id,\n      name: item.name,\n      amount: item.amount,\n      price: item.price,\n      onRemove: cartItemRemoveHandler.bind(null, item.id),\n      onAdd: cartItemAddHandler.bind(null, item),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }\n    });\n  }));\n  var modalActions = /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.actions,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: classes['button--alt'],\n    onClick: props.onClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 27\n    }\n  }, \"Close\"), hasItems && /*#__PURE__*/React.createElement(\"button\", {\n    className: classes.button,\n    onClick: orderHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 40\n    }\n  }, \"Order\"));\n  return /*#__PURE__*/React.createElement(Modal, {\n    onClose: props.onClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, cartItems, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.total,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, \"Total Amount\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, totalAmount)), isCheckout && /*#__PURE__*/React.createElement(Checkout, {\n    onConfirm: onSubmitHandler,\n    onCancel: props.onClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 22\n    }\n  }), !isCheckout && modalActions);\n};\nexport default Cart;","map":{"version":3,"names":["React","useState","useContext","Modal","CartItem","classes","CartContext","Checkout","Cart","props","cartCtx","_useState","_useState2","_slicedToArray","isCheckout","setIsCheckout","totalAmount","concat","toFixed","hasItems","items","length","cartItemRemoveHandler","id","removeItem","cartItemAddHandler","item","addItem","orderHandler","onSubmitHandler","userData","fetch","method","body","JSON","stringify","user","orderItem","cartItems","createElement","className","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","key","name","amount","price","onRemove","bind","onAdd","modalActions","actions","onClick","onClose","button","total","onConfirm","onCancel"],"sources":["D:/shrouk 25-10-2022/Shrouk/WEB/REACT/food-order-app/src/components/Cart/Cart.js"],"sourcesContent":["import React, { useState } from 'react'\n\nimport { useContext } from 'react';\n\nimport Modal from '../UI/Modal';\nimport CartItem from './CartItem';\nimport classes from './Cart.module.css';\nimport CartContext from '../../store/cart-context';\nimport Checkout from './Checkout';\n\nconst Cart = (props) => {\n  const cartCtx = useContext(CartContext);\n\n  const [isCheckout, setIsCheckout] = useState(false)\n\n  const totalAmount = `$${cartCtx.totalAmount.toFixed(2)}`;\n  const hasItems = cartCtx.items.length > 0;\n\n  const cartItemRemoveHandler = (id) => {\n    cartCtx.removeItem(id);\n  };\n\n  const cartItemAddHandler = (item) => {\n    cartCtx.addItem(item);\n  };\n\n\n  const orderHandler = ()=>{\n    setIsCheckout(true)\n  }\n\n  const onSubmitHandler = (userData)=>{\n    fetch('https://food-app-order-d9a5b-default-rtdb.firebaseio.com/orders.json',{\n      method: 'POST',\n      body: JSON.stringify({\n        user: userData,\n        orderItem: cartCtx.items\n      })\n    })\n  }\n\n\n  const cartItems = (\n    <ul className={classes['cart-items']}>\n      {cartCtx.items.map((item) => (\n        <CartItem\n          key={item.id}\n          name={item.name}\n          amount={item.amount}\n          price={item.price}\n          onRemove={cartItemRemoveHandler.bind(null, item.id)}\n          onAdd={cartItemAddHandler.bind(null, item)}\n        />\n      ))}\n    </ul>\n  );\n\n\n\n  const modalActions = <div className={classes.actions}>\n                          <button className={classes['button--alt']} onClick={props.onClose}>\n                            Close\n                          </button>\n                          {hasItems && <button className={classes.button} onClick={orderHandler}>Order</button>}\n                        </div>\n\n\n\n\n  return (\n    <Modal onClose={props.onClose}>\n      {cartItems}\n      <div className={classes.total}>\n        <span>Total Amount</span>\n        <span>{totalAmount}</span>\n      </div>\n      {isCheckout && <Checkout onConfirm={onSubmitHandler} onCancel={props.onClose}/>}\n      {!isCheckout && modalActions}\n      \n    </Modal>\n  );\n};\n\nexport default Cart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}